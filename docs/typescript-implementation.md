---
title: "TypeScript Implementation"
author: "TextCortex Dev Team"
date: "2025-05-21"
---

This file was generated by Claude Code.

---

# JSON-DOC TypeScript Implementation

In addition to the Python implementation, JSON-DOC is also available as a TypeScript library. This allows for better integration with JavaScript/TypeScript projects and web applications.

## Installation

```bash
# Using npm
npm install jsondoc

# Using yarn
yarn add jsondoc
```

## Features

The TypeScript implementation provides the following features:

- Full TypeScript type definitions for all JSON-DOC objects
- Loader/serializer functions similar to the Python implementation
- Runtime validation using JSON Schema (via ajv)
- Support for all block types defined in the JSON-DOC specification

## Usage

```typescript
import { loadJsonDoc, jsonDocDumpJson } from 'jsondoc';

// Load JSON-DOC from a string
const jsonString = '{"object":"page","id":"page-id","children":[...]}';
const doc = loadJsonDoc(jsonString);

// Or load from an object
const jsonObject = {
  object: 'page',
  id: 'page-id',
  children: [...]
};
const doc2 = loadJsonDoc(jsonObject);

// Serialize back to JSON
const serialized = jsonDocDumpJson(doc, 2); // 2 spaces indentation
```

## Type Definitions

The TypeScript implementation provides type-safe interfaces for all JSON-DOC objects. These are automatically generated from the same JSON schemas used by the Python implementation.

```typescript
import {
  Page,
  BlockBase,
  BlockType,
  RichTextText
} from 'jsondoc';

// Create a simple page
const page: Page = {
  object: 'page',
  id: 'page-id',
  children: [
    {
      object: 'block',
      type: BlockType.Paragraph,
      paragraph: {
        rich_text: [
          {
            type: 'text',
            text: {
              content: 'Hello, world!'
            }
          }
        ]
      }
    }
  ]
};
```

## Validation

The TypeScript implementation includes validation functions similar to the Python implementation:

```typescript
import { validateAgainstSchema, loadSchema } from 'jsondoc';

// Load a schema
const schema = await loadSchema('path/to/schema.json');

// Validate a document
try {
  validateAgainstSchema(document, schema);
  console.log('Document is valid');
} catch (error) {
  console.error('Validation failed:', error.message);
}
```

## Implementation Details

### Code Generation

The TypeScript interfaces are generated directly from the JSON schemas using `json-schema-to-typescript`. This ensures that the TypeScript types match the JSON schema definitions exactly.

### Architecture

The TypeScript implementation follows a similar architecture to the Python implementation:

- **models/**: TypeScript interfaces for JSON-DOC objects
- **validation/**: Schema validation functionality
- **serialization/**: Loading and serializing JSON-DOC objects
- **utils/**: Utility functions

### Differences from Python Implementation

While we strive to keep the API similar between the Python and TypeScript implementations, there are some differences due to the nature of the languages:

1. TypeScript's type system is compile-time only, so runtime validation is handled separately using ajv
2. The TypeScript implementation uses standard ES modules for imports/exports
3. Function naming follows JavaScript conventions (camelCase instead of snake_case)

## Development

If you want to contribute to the TypeScript implementation, see the [README.md](../typescript/README.md) file in the `typescript` directory for development instructions.